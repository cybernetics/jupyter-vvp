language: python
install:
  - pip install -r vvp-magics/requirements.txt
before_script: cd vvp-magics
script:
  - python -m unittest
  - python setup.py sdist

before_deploy:
- openssl aes-256-cbc -K $encrypted_6d931d8515f6_key -iv $encrypted_6d931d8515f6_iv
  -in scripts/gcp-client-secret.json.enc -out $HOME/gcp-client-secret.json -d


jobs:
  include:
  - language: ruby
    services: docker
    script:
      - docker build -t vvp-jupyter .